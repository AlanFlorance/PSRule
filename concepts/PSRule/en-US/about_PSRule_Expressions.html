<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>PSRule_Expressions </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="PSRule_Expressions ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../../commands/PSRule/en-US/toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="psrule_expressions">PSRule_Expressions</h1>

<h2 id="about_psrule_expressions">about_PSRule_Expressions</h2>
<h2 id="short-description">SHORT DESCRIPTION</h2>
<p>Describes PSRule expressions and how to use them.</p>
<h2 id="long-description">LONG DESCRIPTION</h2>
<p>PSRule expressions are used within YAML-based rules or selectors to evaluate an object.
Expressions are comprised of nested conditions, operators, and comparison properties.</p>
<p>The following conditions are available:</p>
<ul>
<li><a href="#contains">Contains</a></li>
<li><a href="#count">Count</a></li>
<li><a href="#equals">Equals</a></li>
<li><a href="#endswith">EndsWith</a></li>
<li><a href="#exists">Exists</a></li>
<li><a href="#greater">Greater</a></li>
<li><a href="#greaterorequals">GreaterOrEquals</a></li>
<li><a href="#hasschema">HasSchema</a></li>
<li><a href="#hasvalue">HasValue</a></li>
<li><a href="#in">In</a></li>
<li><a href="#islower">IsLower</a></li>
<li><a href="#isstring">IsString</a></li>
<li><a href="#isupper">IsUpper</a></li>
<li><a href="#less">Less</a></li>
<li><a href="#lessorequals">LessOrEquals</a></li>
<li><a href="#match">Match</a></li>
<li><a href="#notequals">NotEquals</a></li>
<li><a href="#notin">NotIn</a></li>
<li><a href="#notmatch">NotMatch</a></li>
<li><a href="#setof">SetOf</a></li>
<li><a href="#startswith">StartsWith</a></li>
<li><a href="#subset">Subset</a></li>
</ul>
<p>The following operators are available:</p>
<ul>
<li><a href="#allof">AllOf</a></li>
<li><a href="#anyof">AnyOf</a></li>
<li><a href="#not">Not</a></li>
</ul>
<p>The following comparison properties are available:</p>
<ul>
<li><a href="#field">Field</a></li>
<li><a href="#name">Name</a></li>
<li><a href="#type">Type</a></li>
</ul>
<h3 id="allof">AllOf</h3>
<p>The <code>allOf</code> operator is used to require all nested expressions to match.
When any nested expression does not match, <code>allOf</code> does not match.
This is similar to a logical <em>and</em> operation.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">allOf: &lt;expression[]&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleAllOf'
spec:
  condition:
    allOf:
    # Both Name and Description must exist.
    - field: 'Name'
      exists: true
    - field: 'Description'
      exists: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleAllOf'
spec:
  if:
    allOf:
    # Both Name and Description must exist.
    - field: 'Name'
      exists: true
    - field: 'Description'
      exists: true
</code></pre>
<h3 id="anyof">AnyOf</h3>
<p>The <code>anyOf</code> operator is used to require one or more nested expressions to match.
When any nested expression matches, <code>allOf</code> matches.
This is similar to a logical <em>or</em> operation.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">anyOf: &lt;expression[]&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleAnyOf'
spec:
  condition:
    anyOf:
    # Name and/ or AlternativeName must exist.
    - field: 'Name'
      exists: true
    - field: 'AlternativeName'
      exists: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleAnyOf'
spec:
  if:
    anyOf:
    # Name and/ or AlternativeName must exist.
    - field: 'Name'
      exists: true
    - field: 'AlternativeName'
      exists: true
</code></pre>
<h3 id="contains">Contains</h3>
<p>The <code>contains</code> condition can be used to determine if the operand contains a specified sub-string.
One or more strings to compare can be specified.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">contains: &lt;string | array&gt;
</code></pre>
<ul>
<li>If the operand is a field, and the field does not exist, <em>contains</em> always returns <code>false</code>.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleContains'
spec:
  condition:
    anyOf:
    - field: 'url'
      contains: '/azure/'
    - field: 'url'
      contains:
      - 'github.io'
      - 'github.com'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleContains'
spec:
  if:
    anyOf:
    - field: 'url'
      contains: '/azure/'
    - field: 'url'
      contains:
      - 'github.io'
      - 'github.com'
</code></pre>
<h3 id="count">Count</h3>
<p>The <code>count</code> condition is used to determine if the operand contains a specified number of items.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">count: &lt;int&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleCount'
spec:
  condition:
    field: 'items'
    count: 2

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleCount'
spec:
  if:
    field: 'items'
    count: 2
</code></pre>
<h3 id="equals">Equals</h3>
<p>The <code>equals</code> condition can be used to compare if the operand is equal to a supplied value.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">equals: &lt;string | int | bool&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleEquals'
spec:
  condition:
    field: 'Name'
    equals: 'TargetObject1'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleEquals'
spec:
  if:
    field: 'Name'
    equals: 'TargetObject1'
</code></pre>
<h3 id="endswith">EndsWith</h3>
<p>The <code>endsWith</code> condition can be used to determine if the operand ends with a specified string.
One or more strings to compare can be specified.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">endsWith: &lt;string | array&gt;
</code></pre>
<ul>
<li>If the operand is a field, and the field does not exist, <em>endsWith</em> always returns <code>false</code>.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleEndsWith'
spec:
  condition:
    anyOf:
    - field: 'hostname'
      endsWith: '.com'
    - field: 'hostname'
      endsWith:
      - '.com.au'
      - '.com'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleEndsWith'
spec:
  if:
    anyOf:
    - field: 'hostname'
      endsWith: '.com'
    - field: 'hostname'
      endsWith:
      - '.com.au'
      - '.com'
</code></pre>
<h3 id="exists">Exists</h3>
<p>The <code>exists</code> condition determines if the specified field exists.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">exists: &lt;bool&gt;
</code></pre>
<ul>
<li>When <code>exists: true</code>, exists will return <code>true</code> if the field exists.</li>
<li>When <code>exists: false</code>, exists will return <code>true</code> if the field does not exist.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleExists'
spec:
  condition:
    field: 'Name'
    exists: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleExists'
spec:
  if:
    field: 'Name'
    exists: true
</code></pre>
<h3 id="field">Field</h3>
<p>The comparison property <code>field</code> is used with a condition to determine field of the object to evaluate.
A field can be:</p>
<ul>
<li>A property name.</li>
<li>A key within a hashtable or dictionary.</li>
<li>An index in an array or collection.</li>
<li>A nested path through an object.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">field: &lt;string&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleField'
spec:
  condition:
    field: 'Properties.securityRules[0].name'
    exists: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleField'
spec:
  if:
    field: 'Properties.securityRules[0].name'
    exists: true
</code></pre>
<h3 id="greater">Greater</h3>
<p>The <code>greater</code> condition determines if the operand is greater than a supplied value.
The field value can either be an integer, float, array, or string.
When the field value is:</p>
<ul>
<li>An integer or float, a numerical comparison is used.</li>
<li>An array, the number of elements is compared.</li>
<li>A string, the length of the string is compared.</li>
<li>A DateTime, the number of days from the current time is compared.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">greater: &lt;int&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleGreater'
spec:
  condition:
    field: 'Name'
    greater: 3

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleGreater'
spec:
  if:
    field: 'Name'
    greater: 3
</code></pre>
<h3 id="greaterorequals">GreaterOrEquals</h3>
<p>The <code>greaterOrEquals</code> condition determines if the operand is greater or equal to the supplied value.
The field value can either be an integer, float, array, or string.
When the field value is:</p>
<ul>
<li>An integer or float, a numerical comparison is used.</li>
<li>An array, the number of elements is compared.</li>
<li>A string, the length of the string is compared.</li>
<li>A DateTime, the number of days from the current time is compared.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">greaterOrEquals: &lt;int&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleGreaterOrEquals'
spec:
  condition:
    field: 'Name'
    greaterOrEquals: 3

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleGreaterOrEquals'
spec:
  if:
    field: 'Name'
    greaterOrEquals: 3
</code></pre>
<h3 id="hasschema">HasSchema</h3>
<p>The <code>hasSchema</code> condition determines if the operand has a <code>$schema</code> property defined.
If the <code>$schema</code> property is defined, it must match one of the specified schemas.
If a trailing <code>#</code> is specified it is ignored.</p>
<p>The following properties are accepted:</p>
<ul>
<li><code>caseSensitive</code> - Optionally, a case-sensitive comparison can be performed.
By default, case-insensitive comparison is performed.</li>
<li><code>ignoreScheme</code> - Optionally, the URI scheme is ignored in the comparison.
By default, the scheme is compared.
When <code>true</code>, the schema will match if either <code>http://</code> or <code>https://</code> is specified.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">hasSchema: &lt;array&gt;
caseSensitive: &lt;bool&gt;
ignoreScheme: &lt;bool&gt;
</code></pre>
<ul>
<li>When <code>hasSchema: []</code>, hasSchema will return <code>true</code> if any non-empty <code>$schema</code> property is defined.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleHasSchema'
spec:
  condition:
    field: '.'
    hasSchema:
    - https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleHasSchema'
spec:
  if:
    field: '.'
    hasSchema:
    - https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#
    - https://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#
    ignoreScheme: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleHasAnySchema'
spec:
  if:
    field: '.'
    hasSchema: []
</code></pre>
<h3 id="hasvalue">HasValue</h3>
<p>The <code>hasValue</code> condition determines if the field exists and has a non-empty value.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">hasValue: &lt;bool&gt;
</code></pre>
<ul>
<li>When <code>hasValue: true</code>, hasValue will return <code>true</code> if the field is not empty.</li>
<li>When <code>hasValue: false</code>, hasValue will return <code>true</code> if the field is empty.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleHasValue'
spec:
  condition:
    field: 'Name'
    hasValue: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleHasValue'
spec:
  if:
    field: 'Name'
    hasValue: true
</code></pre>
<h3 id="in">In</h3>
<p>The <code>in</code> condition can be used to compare if a field contains one of the specified values.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">in: &lt;array&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleIn'
spec:
  condition:
    field: 'Name'
    in:
    - 'Value1'
    - 'Value2'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleIn'
spec:
  if:
    field: 'Name'
    in:
    - 'Value1'
    - 'Value2'
</code></pre>
<h3 id="islower">IsLower</h3>
<p>The <code>isLower</code> condition determines if the operand is a lowercase string.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">isLower: &lt;bool&gt;
</code></pre>
<ul>
<li>When <code>isLower: true</code>, <em>isLower</em> will return <code>true</code> if the operand is a lowercase string.
Non-letter characters are ignored.</li>
<li>When <code>isLower: false</code>, <em>isLower</em> will return <code>true</code> if the operand is not a lowercase string.</li>
<li>If the operand is a field, and the field does not exist <em>isLower</em> always returns <code>false</code>.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleIsLower'
spec:
  condition:
    field: 'Name'
    isLower: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleIsLower'
spec:
  if:
    field: 'Name'
    isLower: true
</code></pre>
<h3 id="isstring">IsString</h3>
<p>The <code>isString</code> condition determines if the operand is a string or other type.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">isString: &lt;bool&gt;
</code></pre>
<ul>
<li>When <code>isString: true</code>, <em>isString</em> will return <code>true</code> if the operand is a string.</li>
<li>When <code>isString: false</code>, <em>isString</em> will return <code>true</code> if the operand is not a string or is null.</li>
<li>If the operand is a field, and the field does not exist <em>isString</em> always returns <code>false</code>.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleIsString'
spec:
  condition:
    field: 'Name'
    isString: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleIsString'
spec:
  if:
    field: 'Name'
    isString: true
</code></pre>
<h3 id="isupper">IsUpper</h3>
<p>The <code>isUpper</code> condition determines if the operand is an uppercase string.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">isUpper: &lt;bool&gt;
</code></pre>
<ul>
<li>When <code>isUpper: true</code>, <em>isUpper</em> will return <code>true</code> if the operand is an uppercase string.
Non-letter characters are ignored.</li>
<li>When <code>isUpper: false</code>, <em>isUpper</em> will return <code>true</code> if the operand is not an uppercase string.</li>
<li>If the operand is a field, and the field does not exist <em>isUpper</em> always returns <code>false</code>.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleIsUpper'
spec:
  condition:
    field: 'Name'
    isUpper: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleIsUpper'
spec:
  if:
    field: 'Name'
    isUpper: true
</code></pre>
<h3 id="less">Less</h3>
<p>The <code>less</code> condition determines if the operand is less than a supplied value.
The field value can either be an integer, float, array, or string.
When the field value is:</p>
<ul>
<li>An integer or float, a numerical comparison is used.</li>
<li>An array, the number of elements is compared.</li>
<li>A string, the length of the string is compared.</li>
<li>A DateTime, the number of days from the current time is compared.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">less: &lt;int&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleLess'
spec:
  condition:
    field: 'Name'
    less: 3

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleLess'
spec:
  if:
    field: 'Name'
    less: 3
</code></pre>
<h3 id="lessorequals">LessOrEquals</h3>
<p>The <code>lessOrEquals</code> condition determines if the operand is less or equal to the supplied value.
The field value can either be an integer, float, array, or string.
When the field value is:</p>
<ul>
<li>An integer or float, a numerical comparison is used.</li>
<li>An array, the number of elements is compared.</li>
<li>A string, the length of the string is compared.</li>
<li>A DateTime, the number of days from the current time is compared.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">lessOrEquals: &lt;int&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleLessOrEquals'
spec:
  condition:
    field: 'Name'
    lessOrEquals: 3

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleLessOrEquals'
spec:
  if:
    field: 'Name'
    lessOrEquals: 3
</code></pre>
<h3 id="match">Match</h3>
<p>The <code>match</code> condition can be used to compare if a field matches a supplied regular expression.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">match: &lt;string&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleMatch'
spec:
  condition:
    field: 'Name'
    match: '$(abc|efg)$'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleMatch'
spec:
  if:
    field: 'Name'
    match: '$(abc|efg)$'
</code></pre>
<h3 id="name">Name</h3>
<p>The comparison property <code>name</code> is used with a condition to evaluate the target name of the object.
The <code>name</code> property must be set to <code>.</code>.
Any other value will cause the condition to evaluate to <code>false</code>.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">name: '.'
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleName'
spec:
  condition:
    name: '.'
    equals: 'TargetObject1'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleName'
spec:
  if:
    name: '.'
    in:
    - 'TargetObject1'
    - 'TargetObject2'
</code></pre>
<h3 id="not">Not</h3>
<p>The <code>any</code> operator is used to invert the result of the nested expression.
When a nested expression matches, <code>not</code> does not match.
When a nested expression does not match, <code>not</code> matches.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">not: &lt;expression&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleNot'
spec:
  condition:
    not:
      # The AlternativeName field must not exist.
      field: 'AlternativeName'
      exists: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleNot'
spec:
  if:
    not:
      # The AlternativeName field must not exist.
      field: 'AlternativeName'
      exists: true
</code></pre>
<h3 id="notequals">NotEquals</h3>
<p>The <code>notEquals</code> condition can be used to compare if a field is equal to a supplied value.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">notEquals: &lt;string | int | bool&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleNotEquals'
spec:
  condition:
    field: 'Name'
    notEquals: 'TargetObject1'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleNotEquals'
spec:
  if:
    field: 'Name'
    notEquals: 'TargetObject1'
</code></pre>
<h3 id="notin">NotIn</h3>
<p>The <code>notIn</code> condition can be used to compare if a field does not contains one of the specified values.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">notIn: &lt;array&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleNotIn'
spec:
  condition:
    field: 'Name'
    notIn:
    - 'Value1'
    - 'Value2'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleNotIn'
spec:
  if:
    field: 'Name'
    notIn:
    - 'Value1'
    - 'Value2'
</code></pre>
<h3 id="notmatch">NotMatch</h3>
<p>The <code>notMatch</code> condition can be used to compare if a field does not matches a supplied regular expression.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">notMatch: &lt;string&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleNotMatch'
spec:
  condition:
    field: 'Name'
    notMatch: '$(abc|efg)$'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleNotMatch'
spec:
  if:
    field: 'Name'
    notMatch: '$(abc|efg)$'
</code></pre>
<h3 id="setof">SetOf</h3>
<p>The <code>setOf</code> condition can be used to determine if the operand is a set of specified values.
Additionally the following properties are accepted:</p>
<ul>
<li><code>caseSensitive</code> - Optionally, a case sensitive-comparison can be performed.
By default, case-insensitive comparison is performed.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">setOf: &lt;array&gt;
caseSensitive: &lt;bool&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleSetOf'
spec:
  condition:
    field: 'zones'
    setOf:
    - 1
    - 2
    - 3
    caseSensitive: false

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleSetOf'
spec:
  if:
    field: 'zones'
    setOf:
    - 1
    - 2
    - 3
    caseSensitive: false
</code></pre>
<h3 id="startswith">StartsWith</h3>
<p>The <code>startsWith</code> condition can be used to determine if the operand starts with a specified string.
One or more strings to compare can be specified.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">startsWith: &lt;string | array&gt;
</code></pre>
<ul>
<li>If the operand is a field, and the field does not exist, <em>startsWith</em> always returns <code>false</code>.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleStartsWith'
spec:
  condition:
    anyOf:
    - field: 'url'
      startsWith: 'http'
    - field: 'url'
      startsWith:
      - 'http://'
      - 'https://'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleStartsWith'
spec:
  if:
    anyOf:
    - field: 'url'
      startsWith: 'http'
    - field: 'url'
      startsWith:
      - 'http://'
      - 'https://'
</code></pre>
<h3 id="subset">Subset</h3>
<p>The <code>subset</code> condition can be used to determine if the operand is a set of specified values.
The following properties are accepted:</p>
<ul>
<li><code>caseSensitive</code> - Optionally, a case-sensitive comparison can be performed.
By default, case-insensitive comparison is performed.</li>
<li><code>unique</code> - Optionally, the operand must not contain duplicates.
By default, duplicates are allowed.</li>
</ul>
<p>Syntax:</p>
<pre><code class="lang-yaml">subset: &lt;array&gt;
caseSensitive: &lt;bool&gt;
unique: &lt;bool&gt;
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleSubset'
spec:
  condition:
    field: 'logs'
    subset:
    - 'cluster-autoscaler'
    - 'kube-apiserver'
    - 'kube-scheduler'
    caseSensitive: true
    unique: true

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleSubset'
spec:
  if:
    field: 'logs'
    subset:
    - 'cluster-autoscaler'
    - 'kube-apiserver'
    - 'kube-scheduler'
    caseSensitive: true
    unique: true
</code></pre>
<h3 id="type">Type</h3>
<p>The comparison property <code>type</code> is used with a condition to evaluate the target type of the object.
The <code>type</code> property must be set to <code>.</code>.
Any other value will cause the condition to evaluate to <code>false</code>.</p>
<p>Syntax:</p>
<pre><code class="lang-yaml">type: '.'
</code></pre>
<p>For example:</p>
<pre><code class="lang-yaml">---
apiVersion: github.com/microsoft/PSRule/v1
kind: Rule
metadata:
  name: 'ExampleType'
spec:
  condition:
    type: '.'
    equals: 'CustomType'

---
apiVersion: github.com/microsoft/PSRule/v1
kind: Selector
metadata:
  name: 'ExampleType'
spec:
  if:
    type: '.'
    in:
    - 'Microsoft.Storage/storageAccounts'
    - 'Microsoft.Storage/storageAccounts/blobServices'
</code></pre>
<h2 id="note">NOTE</h2>
<p>An online version of this document is available at <a href="https://microsoft.github.io/PSRule/concepts/PSRule/en-US/about_PSRule_Expressions.md">https://microsoft.github.io/PSRule/concepts/PSRule/en-US/about_PSRule_Expressions.md</a>.</p>
<h2 id="see-also">SEE ALSO</h2>
<ul>
<li><a href="https://microsoft.github.io/PSRule/commands/PSRule/en-US/Invoke-PSRule.html">Invoke-PSRule</a></li>
</ul>
<h2 id="keywords">KEYWORDS</h2>
<ul>
<li>Rules</li>
<li>Expressions</li>
<li>PSRule</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/PSRule/blob/main/docs/concepts/PSRule/en-US/about_PSRule_Expressions.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
